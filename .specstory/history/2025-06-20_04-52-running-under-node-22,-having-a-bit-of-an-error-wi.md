<!-- Generated by SpecStory -->

# Running under Node 22, having a bit of an error wi (2025-06-20 00:52:57)

_**User**_

Running under Node 22, having a bit of an error with standard-js:

standard: Unexpected linter output:

TypeError: def.split is not a function or its return value is not iterable

---

_**Assistant**_

This error is a known compatibility issue with standard-js and Node.js 22. The error occurs because of how standard-js handles certain configuration parsing in newer Node.js versions. Let me help you fix this.

Let me first check your current `package.json` to see your dependencies: I can see the issue. You're using `standard` version 16.0.3 which has compatibility issues with Node.js 22. The problem is in how the standard configuration is being parsed. Let me fix this by updating to a newer version of standard and adjusting the configuration. 
```

```
Now I need to update the standard configuration to work with the newer version and fix the vitest globals issue: 
```

```
Now let's install the updated dependencies: I notice you're running Node.js v23.7.0, but the error was mentioned for Node.js 22. Let's test if the standard linting now works: Great! The standard linter is now working properly and is giving normal linting errors instead of the `def.split is not a function` error. Let's fix the linting errors that it found: 

---

_**User**_

ouch. we _should_ be running node 22. The nvm default is 22, but this shell did open with node 23

---

_**Assistant**_

Let me check what Node.js version you're currently running and help you switch to Node.js 22: 

---

